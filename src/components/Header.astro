---
/**
 * Header 組件
 * 
 * 用途：
 * - 顯示網站導航欄
 * - 包含網站標題/Logo
 * - 提供主要導航連結（DevLog、Blog、Story、Wiki）
 * - 顯示社交媒體連結
 * 
 * 特性：
 * - 固定在頁面頂部（通過 CSS 的 position: fixed）
 * - 響應式設計（手機上隱藏社交連結）
 * - 自動檢測當前頁面並標記活躍連結
 */

import { SITE_TITLE } from "../consts";
import HeaderLink from "./HeaderLink.astro";
---

<header>
  <nav>
    {/* 網站標題/Logo - 點擊返回首頁 */}
    <h2><a href="/">{SITE_TITLE}</a></h2>
    
    {/* 主要導航連結 */}
    <div class="internal-links">
      <HeaderLink href="/devlog">DevLog</HeaderLink>
      <HeaderLink href="/blog">Blog</HeaderLink>
      <HeaderLink href="/story">Story</HeaderLink>
      <HeaderLink href="/wiki">Wiki</HeaderLink>
    </div>
  </nav>
</header>
<style>
  /** Header 容器 */
  header {
    margin: 0;
    padding: 0 1em;
    box-shadow: 0 2px 8px rgba(var(--black), 5%);
  }
  
  /** 標題樣式 */
  h2 {
    margin: 0;
    font-size: 1em;
  }

  /** 標題連結 - 移除底線 */
  h2 a,
  h2 a.active {
    text-decoration: none;
  }
  
  /** 
   * 導航容器 - 使用 flexbox 排列
   * 
   * 說明：
   * - 使用 flex 佈局，水平排列
   * - justify-content: space-between 讓 SITE_TITLE 在左，internal-links 在中
   * - align-items: center 垂直居中
   */
  nav {
    /* 使用 flex 佈局 */
    display: flex;
    /* 垂直居中 */
    align-items: center;
    /* SITE_TITLE 在左，internal-links 在中 */
    justify-content: space-between;
  }
  
  /** 
   * 內部導航連結容器
   * 
   * 說明：
   * - 使用 flex 佈局，水平排列
   * - justify-content: center 讓連結置中
   * - gap: 1em 連結之間的距離
   * - flex: 1 讓容器填滿中間空間
   */
  .internal-links {
    /* 使用 flex 佈局 */
    display: flex;
    /* 水平排列 */
    flex-direction: row;
    /* 連結置中 */
    justify-content: center;
    /* 連結之間的距離 */
    gap: 1em;
    /* 填滿中間空間 */
    flex: 1;
  }

  /** 導航連結 - 添加下邊框指示器 */
  nav a {
    /* 內邊距 */
    padding: 1em 0.5em;
    /* 文字顏色 */
    color: var(--text-primary);
    /* 下邊框：透明 */
    border-bottom: 4px solid transparent;
    /* 移除底線 */
    text-decoration: none;
    /* 平滑過渡 */
    transition: border-bottom-color 0.3s ease, color 0.3s ease;
  }
  
  /** 活躍導航連結 - 顯示下邊框 */
  nav a.active {
    /* 移除底線 */
    text-decoration: none;
    /* 下邊框顏色：強調色 */
    border-bottom-color: var(--accent);
  }
  
  /** 社交連結容器 - 水平排列 */
  .social-links,
  .social-links a {
    /* 使用 flex 佈局 */
    display: flex;
  }
  
  /** 響應式設計 - 手機上隱藏社交連結 */
  @media (max-width: 720px) {
    .social-links {
      /* 隱藏社交連結 */
      display: none;
    }
  }
</style>
